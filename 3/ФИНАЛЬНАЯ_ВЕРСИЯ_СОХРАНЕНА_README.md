# üìä –§–ò–ù–ê–õ–¨–ù–ê–Ø –í–ï–†–°–ò–Ø –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø –°–û–•–†–ê–ù–ï–ù–ê

## üéØ **–í–µ—Ä—Å–∏—è: weekly_expenses_analyzer_final_stable.py**

### üìÖ **–î–∞—Ç–∞ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è:** 27 –∞–≤–≥—É—Å—Ç–∞ 2025, 15:48

### üîß **–†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è:** `weekly_expenses_analyzer_final_stable_backup_20250827_154849.py`

---

## ‚úÖ **–í–°–ï –ò–°–ü–†–ê–í–õ–ï–ù–ò–Ø –í–ù–ï–°–ï–ù–´ –ò –ü–†–û–¢–ï–°–¢–ò–†–û–í–ê–ù–´**

### **üìä –û—Å–Ω–æ–≤–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏:**

#### **1. –ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö –ø–æ —é—Ä–∏–¥–∏—á–µ—Å–∫–∏–º –ª–∏—Ü–∞–º:**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –∑–∞–≥—Ä—É–∑–∫–∞** —Ñ–∞–π–ª–æ–≤ Excel
- ‚úÖ **–§–∏–ª—å—Ç—Ä–∞—Ü–∏—è –ø–æ –ø–µ—Ä–∏–æ–¥–∞–º** —Å –ø–æ–ª–∑—É–Ω–∫–æ–º
- ‚úÖ **–£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–ª–æ–∂–µ–Ω–∏—è–º–∏** –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–≥–æ –ª–∏—Ü–∞
- ‚úÖ **–†–∞—Å—á–µ—Ç ROI** —Å —É—á–µ—Ç–æ–º –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **KPI –º–µ—Ç—Ä–∏–∫–∏** –¥–ª—è –≤—Å–µ—Ö –ø–æ–∫–∞–∑–∞—Ç–µ–ª–µ–π

#### **2. –ü—Ä–æ–≥–Ω–æ–∑ ROI —Å —É—á–µ—Ç–æ–º –æ—Å—Ç–∞—Ç–∫–æ–≤:**
- ‚úÖ **–ì–∞–ª–æ—á–∫–∞ "–ù–∞—á–∞—Ç—å —Ä–∞—Å—á–µ—Ç —Å –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è" –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è –¥–∞—Ç–∞ —Ä–∞—Å—á–µ—Ç–∞** –∫–∞–∫ –¥–∞—Ç–∞ –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç –¥–Ω–µ–π** –¥–æ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤** –≤ CSV —Ñ–∞–π–ª –∏ –∫–µ—à
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö** –∏–∑ –∫–µ—à–∞
- ‚úÖ **–ú–µ—Ç—Ä–∏–∫–∞ "–í—ã—Ä—É—á–∫–∞ –æ—Ç –æ—Å—Ç–∞—Ç–∫–æ–≤ (–Ω–∞–ª–æ–≥)"** —Å —É—á–µ—Ç–æ–º 7% –Ω–∞–ª–æ–≥–∞

#### **3. –û–±—â–∏–π KPI:**
- ‚úÖ **–ì–∞–ª–æ—á–∫–∞ "–°—á–∏—Ç–∞—Ç—å –æ–±—â–∏–π KPI —Å –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è" –≤–∫–ª—é—á–µ–Ω–∞ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é**
- ‚úÖ **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Ä–∞—Å—á–µ—Ç** –≤—Å–µ—Ö –º–µ—Ç—Ä–∏–∫ —Å –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è
- ‚úÖ **–ö–æ—Ä—Ä–µ–∫—Ç–Ω—ã–µ –ø–µ—Ä–∏–æ–¥—ã** –¥–ª—è –≤—Å–µ—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
- ‚úÖ **–¢–æ—á–Ω—ã–µ ROI –∏ XIRR** —Å —É—á–µ—Ç–æ–º –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è

#### **4. –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –∏ –∫–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ:**
- ‚úÖ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –ø—Ä–æ–≥–Ω–æ–∑–æ–≤** –≤ CSV —Ñ–∞–π–ª—ã
- ‚úÖ **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- ‚úÖ **–ó–∞–≥—Ä—É–∑–∫–∞ –∏–∑ –∫–µ—à–∞** –¥–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –¥–∞–Ω–Ω—ã—Ö
- ‚úÖ **–£–Ω–∏–∫–∞–ª—å–Ω—ã–µ –∏–º–µ–Ω–∞ —Ñ–∞–π–ª–æ–≤** —Å –≤—Ä–µ–º–µ–Ω–Ω—ã–º–∏ –º–µ—Ç–∫–∞–º–∏

---

## üõ°Ô∏è **–ò–°–ü–†–ê–í–õ–ï–ù–ù–´–ï –û–®–ò–ë–ö–ò:**

### **1. –û—à–∏–±–∫–∏ —Ä–∞—Å—á–µ—Ç–∞:**
- ‚úÖ **UnboundLocalError** –¥–ª—è –ø–µ—Ä–µ–º–µ–Ω–Ω—ã—Ö scope
- ‚úÖ **IndentationError** –≤ –∫–æ–¥–µ
- ‚úÖ **AttributeError** –¥–ª—è datetime –æ–±—ä–µ–∫—Ç–æ–≤
- ‚úÖ **TypeError** –¥–ª—è isinstance
- ‚úÖ **KeyError** –≤ st.slider

### **2. –û—à–∏–±–∫–∏ –ª–æ–≥–∏–∫–∏:**
- ‚úÖ **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ä–∞—Å—á–µ—Ç ROI** –¥–ª—è —é—Ä–∏–¥–∏—á–µ—Å–∫–∏—Ö –ª–∏—Ü
- ‚úÖ **–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω–∞—è –ø—Ä–∏–±—ã–ª—å** –≤ –ø—Ä–æ–≥–Ω–æ–∑–∞—Ö
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º—ã —Å –¥–∞—Ç–∞–º–∏** —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤
- ‚úÖ **–û—à–∏–±–∫–∏ –¥–µ–ª–µ–Ω–∏—è –Ω–∞ –Ω–æ–ª—å**

### **3. –û—à–∏–±–∫–∏ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞:**
- ‚úÖ **–î—É–±–ª–∏—Ä—É—é—â–∏–µ—Å—è –∫–ª—é—á–∏** –≥—Ä–∞—Ñ–∏–∫–æ–≤
- ‚úÖ **–ù–µ–ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –æ—Ç—Å—Ç—É–ø—ã** –≤ –∫–æ–¥–µ
- ‚úÖ **–ü—Ä–æ–±–ª–µ–º—ã —Å —Ç–∏–ø–∞–º–∏ –¥–∞–Ω–Ω—ã—Ö** –≤ —Å–ª–∞–π–¥–µ—Ä–∞—Ö

---

## üìà **–£–õ–£–ß–®–ï–ù–ù–ê–Ø –§–£–ù–ö–¶–ò–û–ù–ê–õ–¨–ù–û–°–¢–¨:**

### **üéØ –ê–≤—Ç–æ–º–∞—Ç–∏–∑–∞—Ü–∏—è:**
- **–ì–∞–ª–æ—á–∫–∏ –≤–∫–ª—é—á–µ–Ω—ã –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é** –¥–ª—è –≤—Å–µ—Ö —Ä–∞—Å—á–µ—Ç–æ–≤ —Å –¥–∞—Ç—ã –ø–µ—Ä–≤–æ–≥–æ –≤–ª–æ–∂–µ–Ω–∏—è
- **–ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∞—è —É—Å—Ç–∞–Ω–æ–≤–∫–∞** –¥–∞—Ç —Ä–∞—Å—á–µ—Ç–∞
- **–£–º–Ω–∞—è –æ–±—Ä–∞–±–æ—Ç–∫–∞** —Ä–∞–∑–Ω—ã—Ö —Ç–∏–ø–æ–≤ –¥–∞—Ç

### **üíæ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö:**
- **CSV —ç–∫—Å–ø–æ—Ä—Ç** –≤—Å–µ—Ö –ø—Ä–æ–≥–Ω–æ–∑–æ–≤
- **–ö–µ—à–∏—Ä–æ–≤–∞–Ω–∏–µ** –¥–ª—è –±—ã—Å—Ç—Ä–æ–≥–æ –¥–æ—Å—Ç—É–ø–∞
- **–í–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏–µ** –¥–∞–Ω–Ω—ã—Ö –∏–∑ –∫–µ—à–∞

### **üìä –¢–æ—á–Ω—ã–µ —Ä–∞—Å—á–µ—Ç—ã:**
- **ROI —Å —É—á–µ—Ç–æ–º –Ω–∞–ª–æ–≥–∞** (7%)
- **–ü—Ä–∏–±—ã–ª—å –ø–æ—Å–ª–µ –Ω–∞–ª–æ–≥–∞** –¥–ª—è –≤—Å–µ—Ö —Ä–∞—Å—á–µ—Ç–æ–≤
- **–ì–æ–¥–æ–≤–æ–π ROI** —Å —É—á–µ—Ç–æ–º –≤—Ä–µ–º–µ–Ω–∏ —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏
- **XIRR** –¥–ª—è —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ –¥–æ—Ö–æ–¥–Ω–æ—Å—Ç–∏

### **üõ°Ô∏è –ë–µ–∑–æ–ø–∞—Å–Ω–æ—Å—Ç—å:**
- **–ü—Ä–æ–≤–µ—Ä–∫–∏ —Ç–∏–ø–æ–≤ –¥–∞–Ω–Ω—ã—Ö** –¥–ª—è –≤—Å–µ—Ö –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤
- **–û–±—Ä–∞–±–æ—Ç–∫–∞ –∏—Å–∫–ª—é—á–µ–Ω–∏–π** –¥–ª—è –≤—Å–µ—Ö –æ–ø–µ—Ä–∞—Ü–∏–π
- **Fallback –∑–Ω–∞—á–µ–Ω–∏—è** –ø—Ä–∏ –æ—à–∏–±–∫–∞—Ö

---

## üöÄ **–ó–ê–ü–£–°–ö –ü–†–ò–õ–û–ñ–ï–ù–ò–Ø:**

### **–ö–æ–º–∞–Ω–¥–∞ –∑–∞–ø—É—Å–∫–∞:**
```bash
cd /Users/ivangural/Downloads/wb_dashboard_streamlit/3
source venv/bin/activate
streamlit run weekly_expenses_analyzer_final_stable.py --server.port 8501 --server.address localhost
```

### **–î–æ—Å—Ç—É–ø:** http://localhost:8501

---

## üìã **–°–¢–†–£–ö–¢–£–†–ê –§–ê–ô–õ–û–í:**

```
3/
‚îú‚îÄ‚îÄ weekly_expenses_analyzer_final_stable.py                    # –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è
‚îú‚îÄ‚îÄ weekly_expenses_analyzer_final_stable_backup_20250827_154849.py  # –†–µ–∑–µ—Ä–≤–Ω–∞—è –∫–æ–ø–∏—è
‚îú‚îÄ‚îÄ –§–ò–ù–ê–õ–¨–ù–ê–Ø_–í–ï–†–°–ò–Ø_–°–û–•–†–ê–ù–ï–ù–ê_README.md                      # –≠—Ç–∞ –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îú‚îÄ‚îÄ launch_final_stable.command                                # –°–∫—Ä–∏–ø—Ç –∑–∞–ø—É—Å–∫–∞
‚îú‚îÄ‚îÄ –§–ò–ù–ê–õ–¨–ù–ê–Ø_–í–ï–†–°–ò–Ø_README.md                                 # –î–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è
‚îî‚îÄ‚îÄ 3.xlsx                                                      # –î–∞–Ω–Ω—ã–µ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞
```

---

## üéâ **–°–¢–ê–¢–£–°: –ì–û–¢–û–í–û –ö –ü–†–û–î–ê–ö–®–ï–ù–£**

### **‚úÖ –í—Å–µ —Ñ—É–Ω–∫—Ü–∏–∏ —Ä–∞–±–æ—Ç–∞—é—Ç –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ**
### **‚úÖ –í—Å–µ –æ—à–∏–±–∫–∏ –∏—Å–ø—Ä–∞–≤–ª–µ–Ω—ã**
### **‚úÖ –ò–Ω—Ç–µ—Ä—Ñ–µ–π—Å –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω**
### **‚úÖ –î–∞–Ω–Ω—ã–µ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –∏ –∫–µ—à–∏—Ä—É—é—Ç—Å—è**
### **‚úÖ –†–∞—Å—á–µ—Ç—ã —Ç–æ—á–Ω—ã–µ –∏ –Ω–∞–¥–µ–∂–Ω—ã–µ**

---

**üìû –î–ª—è –≤–æ—Å—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–∏—è –∏–∑ —Ä–µ–∑–µ—Ä–≤–Ω–æ–π –∫–æ–ø–∏–∏:**
```bash
cp weekly_expenses_analyzer_final_stable_backup_20250827_154849.py weekly_expenses_analyzer_final_stable.py
```


















